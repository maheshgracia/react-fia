(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[632],{6579:function(e,t,s){Promise.resolve().then(s.bind(s,1905))},4207:function(e,t){"use strict";function NoopHead(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return NoopHead}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1905:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ManageNewsPage}});var n=s(7437),a=s(2265),l=s(4207),o=s.n(l);function ManageNewsPage(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(""),[r,i]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,f]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null),[h,w]=(0,a.useState)(""),[j,N]=(0,a.useState)("");async function fetchNews(){let e=await fetch("/api/get-all-news"),s=await e.json();t(s.news||[])}async function confirmPasswordDelete(){if(!h)return;let e=await fetch("/api/delete-news",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newsId:m.id,password:h})}),t=await e.json();e.ok?(f(!1),d(h),sessionStorage.setItem("adminPwd",h),p(null),w(""),N(""),l("News deleted successfully!"),fetchNews()):N(t.message||"Invalid password")}(0,a.useEffect)(()=>{fetchNews();let e=sessionStorage.getItem("adminPwd");e&&d(e)},[]);let x=e.filter(e=>e.title.toLowerCase().includes(r.toLowerCase()));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o(),{children:(0,n.jsx)("meta",{name:"robots",content:"noindex, nofollow"})}),(0,n.jsxs)("div",{className:"manage-container",children:[(0,n.jsx)("h1",{children:"Manage News"}),s&&(0,n.jsx)("p",{className:"message",children:s}),(0,n.jsx)("input",{type:"text",className:"search-input",placeholder:"Search news title...",value:r,onChange:e=>i(e.target.value)}),(0,n.jsx)("div",{className:"manage-news-list",children:x.map(e=>(0,n.jsxs)("div",{className:"manage-news-item",children:[(0,n.jsx)("div",{className:"news-info",children:(0,n.jsx)("p",{children:e.title})}),(0,n.jsx)("button",{onClick:()=>{p({id:e._id,title:e.title}),f(!0),w(""),N("")},className:"delete-btn",children:(0,n.jsx)("i",{className:"bi bi-trash3"})})]},e._id))})]}),u&&(0,n.jsx)("div",{className:"modal-overlay",children:(0,n.jsxs)("div",{className:"modal-content",children:[(0,n.jsxs)("div",{className:"modal-body",children:[(0,n.jsx)("input",{type:"password",value:h,onChange:e=>{w(e.target.value),N("")},placeholder:"Enter admin password",autoFocus:!0,style:{marginBottom:"10px",padding:"8px",width:"100%"}}),j&&(0,n.jsx)("div",{className:"passerror",children:j})]}),(0,n.jsxs)("div",{className:"modal-footer",children:[(0,n.jsx)("button",{onClick:confirmPasswordDelete,className:"btn btn-primary",style:{marginRight:"8px"},disabled:!h,children:"Delete"}),(0,n.jsx)("button",{onClick:()=>{f(!1),p(null),w(""),N("")},className:"btn btn-outline-secondary",children:"Cancel"})]})]})})]})}s(439)},439:function(){},622:function(e,t,s){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=s(2265),a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,s){var n,l={},c=null,d=null;for(n in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,n)&&!i.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===l[n]&&(l[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:d,props:l,_owner:r.current}}t.Fragment=l,t.jsx=q,t.jsxs=q},7437:function(e,t,s){"use strict";e.exports=s(622)}},function(e){e.O(0,[2971,7864,1744],function(){return e(e.s=6579)}),_N_E=e.O()}]);