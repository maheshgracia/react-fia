(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7514],{3628:function(e,s,t){Promise.resolve().then(t.bind(t,1132))},1132:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return NewsPage}});var n=t(7437),a=t(2265),i=t(6691),l=t.n(i),c=t(1396),r=t.n(c);function InnerBanner(e){let{pageTitle:s}=e;return(0,n.jsx)("div",{className:"innerBanner",children:(0,n.jsx)("h1",{children:s})})}async function fetchNews(){try{let e="https://sheets.googleapis.com/v4/spreadsheets/".concat("1P1WQxQN7r27cTRsyVsB99YfdZYqKArzMrsvtQrybWuA","/values/Sheet1?key=").concat("AIzaSyAU0HAfbS4ztwxvxDzhoZm4iYiIyeG8gCE"),s=await fetch(e,{cache:"no-store"}),t=await s.json();if(!t.values||t.values.length<=1)return console.error("❌ No data received from Google Sheets API"),[];return t.values.slice(1).map((e,s)=>{let t=e[0]?e[0].trim():"",n=t.length>60?t.slice(0,60)+"...":t,a=e[1]?e[1].trim():"news-".concat(s),i=function(e){if(!e)return"";if(e.includes("drive.google.com")){var s;let t=null===(s=e.split("/d/")[1])||void 0===s?void 0:s.split("/")[0];return"https://drive.google.com/uc?export=view&id=".concat(t)}return e}(e[2]),l=e[3]?e[3].trim():"",c=l.length>120?l.slice(0,120)+"...":l,r=e[4]?e[4].trim():new Date().toISOString(),o=e[5]?e[5].trim():"Uncategorized";return{fullTitle:t,title:n,slug:a,thumbnail:i,content:l,shortDescription:c,publishedAt:r,category:o}})}catch(e){return console.error("❌ Error fetching news:",e),[]}}let o={All:"All News",Politics:"Politics News",Events:"FIA Event News",FIA:"FIA News",Sports:"Sports News",Business:"Business News",Technology:"Technology News",Uncategorized:"Other News"};function NewsPage(){let[e,s]=(0,a.useState)([]),[t,i]=(0,a.useState)(null),[c,h]=(0,a.useState)({}),[d,u]=(0,a.useState)("All"),[m,w]=(0,a.useState)(!0);(0,a.useEffect)(()=>{!async function(){let e=await fetchNews();s(e),w(!1);let t=e.sort((e,s)=>new Date(s.publishedAt)-new Date(e.publishedAt));i(t[0]);let n=t.slice(1).reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{});h(n)}()},[]);let g=Object.values(c).flat(),N="All"===d?g:c[d]||[];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(InnerBanner,{pageTitle:"Latest News"}),(0,n.jsxs)("div",{className:"container",children:[m&&(0,n.jsx)("p",{className:"newsLoader",children:"Loading news..."}),!m&&t&&(0,n.jsx)("section",{className:"latest-news-section",children:(0,n.jsxs)("div",{className:"news-container",children:[(0,n.jsxs)("div",{className:"main-news",children:[(0,n.jsx)(l(),{src:t.thumbnail,alt:t.title,layout:"fill",objectFit:"cover"}),(0,n.jsxs)("div",{className:"news-overlay",children:[(0,n.jsx)("span",{className:"category-badge ".concat(t.category.toLowerCase()),children:t.category}),(0,n.jsx)("h2",{children:(0,n.jsx)(r(),{href:"/latest-news/".concat(t.slug),children:t.title})}),(0,n.jsx)("p",{className:"author",children:new Date(t.publishedAt).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})})]})]}),(0,n.jsx)("div",{className:"side-news",children:e.slice(1,3).map(e=>(0,n.jsxs)("div",{className:"side-news-item",children:[(0,n.jsx)(l(),{src:e.thumbnail,alt:e.title,width:400,height:250}),(0,n.jsxs)("div",{className:"news-overlay",children:[(0,n.jsx)("span",{className:"category-badge ".concat(e.category.toLowerCase()),children:e.category}),(0,n.jsx)("h3",{children:(0,n.jsx)(r(),{href:"/latest-news/".concat(e.slug),children:e.title})}),(0,n.jsx)("p",{className:"author",children:new Date(t.publishedAt).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})})]})]},e.slug))})]})}),(0,n.jsxs)("div",{className:"newsbox",children:[(0,n.jsx)("div",{className:"tabs",children:["All",...Object.keys(c)].map(e=>(0,n.jsx)("button",{className:d===e?"active":"",onClick:()=>u(e),children:o[e]||e},e))}),(0,n.jsx)("div",{className:"news-grid",children:N.length>0?N.map(e=>(0,n.jsxs)("div",{className:"news-item",children:[(0,n.jsx)("div",{className:"newThumb",children:(0,n.jsx)(l(),{src:e.thumbnail,alt:e.title,width:300,height:200})}),(0,n.jsxs)("div",{className:"newsDetail",children:[(0,n.jsx)("h3",{children:(0,n.jsx)(r(),{href:"/latest-news/".concat(e.slug),children:e.title})}),(0,n.jsx)("p",{className:"author",children:new Date(t.publishedAt).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})}),(0,n.jsx)("p",{children:e.shortDescription})]})]},e.slug)):(0,n.jsx)("p",{className:"no-news",children:"No news available for this category."})})]})]})]})}}},function(e){e.O(0,[4724,1165,2971,7864,1744],function(){return e(e.s=3628)}),_N_E=e.O()}]);