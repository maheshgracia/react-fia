(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4834],{162:function(e,n,t){Promise.resolve().then(t.bind(t,9616))},9616:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return NewsSPA}});var s=t(7437),i=t(2265);function NewsSPA(){var e;let[n,t]=(0,i.useState)([]),[l,r]=(0,i.useState)(null),[a,c]=(0,i.useState)(null),[o,d]=(0,i.useState)(!0);function openDetail(e){window.history.pushState({},"","/news/".concat(e)),c(e);let t=n.find(n=>n.slug===e);r(t||null)}function limitText(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:55;return e.length>n?e.substring(0,n)+"...":e}return(0,i.useEffect)(()=>{let e=window.location.pathname.split("/"),n=e.length>2?e[2]:null;c(n&&"news"!==n?n:null)},[]),(0,i.useEffect)(()=>{let e=localStorage.getItem("cachedNews");e&&(t(JSON.parse(e)),d(!1)),fetch("https://fianynjct.org/news-cors.php").then(e=>e.json()).then(e=>{t(e.news||[]),d(!1),localStorage.setItem("cachedNews",JSON.stringify(e.news||[]))})},[]),(0,i.useEffect)(()=>{if(n.length){if(a){let e=n.find(e=>e.slug===a);r(e||null)}else r(null)}},[n,a]),((0,i.useEffect)(()=>{let handler=()=>{let e=window.location.pathname.split("/"),n=e.length>2?e[2]:null;c(n&&"news"!==n?n:null)};return window.addEventListener("popstate",handler),()=>window.removeEventListener("popstate",handler)},[]),o)?(0,s.jsx)("main",{children:(0,s.jsxs)("div",{className:"news-loader",children:[(0,s.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 50 50",children:(0,s.jsx)("circle",{cx:"25",cy:"25",r:"20",fill:"none",stroke:"#fff",strokeWidth:"4",strokeDasharray:"100",strokeDashoffset:"60",children:(0,s.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"1s",repeatCount:"indefinite"})})}),(0,s.jsx)("span",{style:{marginLeft:15},children:"Loading News..."})]})}):(0,s.jsx)("main",{children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"innerBanner",children:(0,s.jsx)("h1",{children:"FIA Community News"})}),(0,s.jsxs)("section",{className:"container news-detail-page",children:[(0,s.jsx)("i",{className:"newsdate",children:l.date}),(0,s.jsx)("h2",{children:l.title}),l.image&&(0,s.jsx)("img",{src:l.image,alt:"fianynjct"}),(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:l.content}}),(0,s.jsx)("button",{className:"ReadMore",onClick:function(){window.history.pushState({},"","/news"),c(null),r(null),setTimeout(()=>window.scrollTo(0,0),0)},children:"‚Üê Back to List"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"innerBanner",children:(0,s.jsx)("h1",{children:"FIA Community News"})}),(0,s.jsxs)("section",{className:"container",children:[n[0]&&(0,s.jsxs)("div",{className:"latest-news-card",children:[(0,s.jsx)("img",{src:n[0].image,alt:n[0].title}),(0,s.jsxs)("div",{children:[(0,s.jsx)("i",{className:"newsdate",children:new Date(n[0].date).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}),(0,s.jsx)("h2",{children:limitText(n[0].title,80)}),(0,s.jsxs)("p",{className:"news-detail",children:[null===(e=n[0].content)||void 0===e?void 0:e.replace(/<[^>]+>/g,"").substring(0,350),"..."]}),(0,s.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),openDetail(n[0].slug)},className:"ReadMore",children:"Read More"})]})]}),(0,s.jsx)("div",{className:"recent-news-row",children:(0,s.jsx)("ul",{children:n.slice(1,4).map(e=>{var n;return(0,s.jsxs)("li",{children:[(0,s.jsx)("img",{src:e.image,alt:e.title}),(0,s.jsxs)("div",{children:[(0,s.jsx)("i",{className:"newsdate",children:new Date(e.date).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}),(0,s.jsx)("h3",{children:limitText(e.title,60)}),(0,s.jsxs)("p",{className:"news-detail",children:[null===(n=e.content)||void 0===n?void 0:n.replace(/<[^>]+>/g,"").substring(0,130),"..."]}),(0,s.jsx)("a",{href:"#",onClick:n=>{n.preventDefault(),openDetail(e.slug)},className:"ReadMore",children:"Read More"})]})]},e.slug)})})}),(0,s.jsx)("div",{className:"more-news",children:(0,s.jsx)("ul",{children:n.slice(4).map(e=>{var n;return(0,s.jsxs)("li",{children:[e.image&&(0,s.jsx)("img",{src:e.image,alt:e.title}),(0,s.jsxs)("div",{children:[(0,s.jsx)("i",{className:"newsdate",children:new Date(e.date).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}),(0,s.jsx)("h4",{children:limitText(e.title,55)}),(0,s.jsxs)("p",{className:"news-detail",children:[null===(n=e.content)||void 0===n?void 0:n.replace(/<[^>]+>/g,"").substring(0,200),"..."]}),(0,s.jsx)("a",{href:"#",onClick:n=>{n.preventDefault(),openDetail(e.slug)},className:"ReadLink",children:"Read More"})]})]},e.slug)})})})]})]})})}t(454)},454:function(){},622:function(e,n,t){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=t(2265),i=Symbol.for("react.element"),l=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function q(e,n,t){var s,l={},o=null,d=null;for(s in void 0!==t&&(o=""+t),void 0!==n.key&&(o=""+n.key),void 0!==n.ref&&(d=n.ref),n)r.call(n,s)&&!c.hasOwnProperty(s)&&(l[s]=n[s]);if(e&&e.defaultProps)for(s in n=e.defaultProps)void 0===l[s]&&(l[s]=n[s]);return{$$typeof:i,type:e,key:o,ref:d,props:l,_owner:a.current}}n.Fragment=l,n.jsx=q,n.jsxs=q},7437:function(e,n,t){"use strict";e.exports=t(622)}},function(e){e.O(0,[2971,7864,1744],function(){return e(e.s=162)}),_N_E=e.O()}]);