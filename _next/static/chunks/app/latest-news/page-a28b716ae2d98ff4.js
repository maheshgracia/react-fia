(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7514],{3628:function(e,s,t){Promise.resolve().then(t.bind(t,1132))},1132:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return NewsPage}});var n=t(7437),a=t(2265),l=t(6691),c=t.n(l),i=t(1396),r=t.n(i);function InnerBanner(e){let{pageTitle:s}=e;return(0,n.jsx)("div",{className:"innerBanner",children:(0,n.jsx)("h1",{children:s})})}async function fetchNews(){try{let e=await fetch("https://script.google.com/a/macros/graciamarcom.com/s/AKfycbyXU8CmBL-IExZqktp-7sEfczQyVQBr7TgXIARmW1o7UiU95hF8bem2-pmlXGHjuF5B/exec",{cache:"no-store"}),s=await e.json();if(!s||0===s.length)return console.error("❌ No data received from Google Sheets JSON API"),[];return s.map((e,s)=>({fullTitle:e.title||"",title:e.title.length>60?e.title.slice(0,60)+"...":e.title,slug:e.slug||"news-".concat(s),thumbnail:function(e){if(!e)return"";if(e.includes("drive.google.com")){var s;let t=null===(s=e.split("/d/")[1])||void 0===s?void 0:s.split("/")[0];return"https://drive.google.com/uc?export=view&id=".concat(t)}return e}(e.thumbnail),content:e.content||"",shortDescription:e.content.length>120?e.content.slice(0,120)+"...":e.content,publishedAt:e.publishedAt||new Date().toISOString(),category:e.category||"Uncategorized"}))}catch(e){return console.error("❌ Error fetching news:",e),[]}}let o={All:"All News",Politics:"Politics News",Events:"FIA Event News",FIA:"FIA News",Sports:"Sports News",Business:"Business News",Technology:"Technology News",Uncategorized:"Other News"};function NewsPage(){let[e,s]=(0,a.useState)([]),[t,l]=(0,a.useState)(null),[i,h]=(0,a.useState)({}),[d,u]=(0,a.useState)("All"),[g,m]=(0,a.useState)(!0);(0,a.useEffect)(()=>{!async function(){try{let e=await fetchNews();if(!e.length)return;s(e),m(!1);let t=e.sort((e,s)=>new Date(s.publishedAt)-new Date(e.publishedAt));l(t[0]);let n=t.slice(1).reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{});h(n)}catch(e){console.error("❌ Error fetching news:",e)}}()},[]);let w=Object.values(i).flat(),N="All"===d?w:i[d]||[];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(InnerBanner,{pageTitle:"Latest News"}),(0,n.jsxs)("div",{className:"container",children:[g&&(0,n.jsx)("p",{className:"newsLoader",children:"Loading news..."}),!g&&t&&(0,n.jsx)("section",{className:"latest-news-section",children:(0,n.jsxs)("div",{className:"news-container",children:[(0,n.jsxs)("div",{className:"main-news",children:[(0,n.jsx)(c(),{src:t.thumbnail,alt:t.title,width:800,height:400}),(0,n.jsxs)("div",{className:"news-overlay",children:[(0,n.jsx)("span",{className:"category-badge ".concat(t.category.toLowerCase()),children:t.category}),(0,n.jsx)("h2",{children:(0,n.jsx)(r(),{href:"/latest-news/news?slug=".concat(t.slug),children:t.title})}),(0,n.jsx)("p",{className:"author",children:new Date(t.publishedAt).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})})]})]}),(0,n.jsx)("div",{className:"side-news",children:e.slice(1,3).map(e=>(0,n.jsxs)("div",{className:"side-news-item",children:[(0,n.jsx)(c(),{src:e.thumbnail,alt:e.title,width:400,height:250}),(0,n.jsxs)("div",{className:"news-overlay",children:[(0,n.jsx)("span",{className:"category-badge ".concat(e.category.toLowerCase()),children:e.category}),(0,n.jsx)("h3",{children:(0,n.jsx)(r(),{href:"/latest-news/news?slug=".concat(e.slug),children:e.title})}),(0,n.jsx)("p",{className:"author",children:new Date(e.publishedAt).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})})]})]},e.slug))})]})}),(0,n.jsxs)("div",{className:"newsbox",children:[(0,n.jsx)("div",{className:"tabs",children:["All",...Object.keys(i)].map(e=>(0,n.jsx)("button",{className:d===e?"active":"",onClick:()=>u(e),children:o[e]||e},e))}),(0,n.jsx)("div",{className:"news-grid",children:N.length>0?N.map(e=>(0,n.jsxs)("div",{className:"news-item",children:[(0,n.jsx)("div",{className:"newThumb",children:(0,n.jsx)(c(),{src:e.thumbnail,alt:e.title,width:300,height:200})}),(0,n.jsxs)("div",{className:"newsDetail",children:[(0,n.jsx)("h3",{children:(0,n.jsx)(r(),{href:"/latest-news/news?slug=".concat(e.slug),children:e.title})}),(0,n.jsx)("p",{className:"author",children:new Date(e.publishedAt).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})}),(0,n.jsx)("p",{children:e.shortDescription})]})]},e.slug)):(0,n.jsx)("p",{className:"no-news",children:"No news available for this category."})})]})]})]})}}},function(e){e.O(0,[4724,1165,2971,7864,1744],function(){return e(e.s=3628)}),_N_E=e.O()}]);